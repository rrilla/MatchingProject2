{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\project\\\\MatchingProject2\\\\MatchingPro\\\\src\\\\main\\\\webapp\\\\blog-app\\\\src\\\\components\\\\modal\\\\LoginModal.js\";\n// ok\nimport React, { useState } from 'react';\nimport { Container, Form, Col, Button, Modal } from 'react-bootstrap';\n\nfunction LoginModal(props) {\n  const setToken = props.setToken;\n  const [user, setUser] = useState({\n    loginid: \"\",\n    password: \"\"\n  });\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const inputHandle = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const loginRequest = () => {\n    let person = {\n      loginid: user.loginid,\n      password: user.password\n    };\n    fetch(\"http://localhost:8000/login\", {\n      method: \"POST\",\n      body: JSON.stringify(person),\n      headers: {\n        'Content-Type': \"application/json; charset=utf-8\"\n      }\n    }).then(res => {\n      for (let header of res.headers.entries()) {\n        if (header[0] === \"authorization\") {\n          let data = header[1]; //data = data.substring(7);\n\n          localStorage.setItem(\"Authorization\", data);\n          setToken();\n        }\n      }\n\n      return res.text();\n    }).then(res => {\n      alert(res);\n      if (res === \"ok\") handleClose();\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    onClick: handleShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }\n  }, \"\\uB85C\\uADF8\\uC778\"), /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 6\n    }\n  }, \"\\uB85C\\uADF8\\uC778\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    md: 8,\n    controlId: \"formGridEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"\\uC544\\uC774\\uB514\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    name: \"loginid\",\n    placeholder: \"\\uC544\\uC774\\uB514\",\n    onChange: inputHandle,\n    value: user.loginid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    md: 8,\n    controlId: \"formGridPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"\\uBE44\\uBC00\\uBC88\\uD638\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n    onChange: inputHandle,\n    value: user.password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"info\",\n    onClick: loginRequest,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 8\n    }\n  }, \"\\uB85C\\uADF8\\uC778\"), ' '))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 6\n    }\n  }, \"Close\"))));\n}\n\nexport default LoginModal;","map":{"version":3,"sources":["C:/Users/admin/Desktop/project/MatchingProject2/MatchingPro/src/main/webapp/blog-app/src/components/modal/LoginModal.js"],"names":["React","useState","Container","Form","Col","Button","Modal","LoginModal","props","setToken","user","setUser","loginid","password","show","setShow","handleClose","handleShow","inputHandle","e","target","name","value","loginRequest","person","fetch","method","body","JSON","stringify","headers","then","res","header","entries","data","localStorage","setItem","text","alert"],"mappings":"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","sourcesContent":["// ok\r\nimport React, { useState } from 'react';\r\nimport { Container, Form, Col, Button, Modal } from 'react-bootstrap';\r\n\r\nfunction LoginModal(props) {\r\n\tconst setToken = props.setToken;\r\n\tconst [user, setUser] = useState({\r\n\t\tloginid: \"\",\r\n\t\tpassword: \"\",\r\n\t});\r\n\r\n\tconst [show, setShow] = useState(false);\r\n\tconst handleClose = () => setShow(false);\r\n\tconst handleShow = () => setShow(true);\r\n\r\n\tconst inputHandle = (e) => {\r\n\t\tsetUser({\r\n\t\t\t...user,\r\n\t\t\t[e.target.name]: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst loginRequest = () => {\r\n\t\tlet person = {\r\n\t\t\tloginid: user.loginid,\r\n\t\t\tpassword: user.password\r\n\t\t}\r\n\r\n\t\tfetch(\"http://localhost:8000/login\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify(person),\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': \"application/json; charset=utf-8\"\r\n\t\t\t}\r\n\t\t}).then(res => {\r\n\t\t\tfor (let header of res.headers.entries()) {\r\n\t\t\t\tif (header[0] === \"authorization\") {\r\n\t\t\t\t\tlet data = header[1];\r\n\t\t\t\t\t//data = data.substring(7);\r\n\t\t\t\t\tlocalStorage.setItem(\"Authorization\", data);\r\n\t\t\t\t\tsetToken();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res.text();\r\n\t\t}).then(\r\n\t\t\tres => {\r\n\t\t\t\talert(res);\r\n\t\t\t\tif (res === \"ok\") handleClose();\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Button variant=\"dark\" onClick={handleShow}>로그인</Button>\r\n\r\n\t\t\t<Modal show={show} onHide={handleClose}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>로그인</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t<Col md={2}></Col>\r\n\t\t\t\t\t\t\t<Form.Group as={Col} md={8} controlId=\"formGridEmail\">\r\n\t\t\t\t\t\t\t\t<Form.Label>아이디</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"loginid\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"아이디\"\r\n\t\t\t\t\t\t\t\t\tonChange={inputHandle}\r\n\t\t\t\t\t\t\t\t\tvalue={user.loginid} />\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t<Col md={2}></Col>\r\n\t\t\t\t\t\t\t<Form.Group as={Col} md={8} controlId=\"formGridPassword\">\r\n\t\t\t\t\t\t\t\t<Form.Label>비밀번호</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"비밀번호\"\r\n\t\t\t\t\t\t\t\t\tonChange={inputHandle}\r\n\t\t\t\t\t\t\t\t\tvalue={user.password} />\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t<Col md={2}></Col>\r\n\t\t\t\t\t\t\t<Button variant=\"info\" onClick={loginRequest}>로그인</Button>{' '}\r\n\t\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>Close</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default LoginModal;\r\n"]},"metadata":{},"sourceType":"module"}